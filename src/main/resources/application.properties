# =================================================================
# APLICACIÓN Y PUERTO DEL SERVIDOR WEB
# =================================================================
spring.application.name=M6_Evaluacion

# Usar la variable PORT de Railway (NECESARIO para evitar el error 502)
server.port=${PORT:8080}

# =================================================================
# CONFIGURACIÓN DE LA BASE DE DATOS (MySQL Railway)
# =================================================================
# Usamos las variables de entorno de Railway (MYSQL_HOST, MYSQL_PORT, etc.)
# Se añaden timeouts para evitar el error "The driver has not received any packets"
spring.datasource.url=jdbc:mysql://${MYSQL_HOST}:${MYSQL_PORT}/${MYSQL_DATABASE}?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC&characterEncoding=utf8&connectTimeout=20000&socketTimeout=20000

spring.datasource.username=${MYSQL_USER}
spring.datasource.password=${MYSQL_PASSWORD}

spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# =================================================================
# CONFIGURACIÓN DE JPA/HIBERNATE
# =================================================================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect

# =================================================================
# CONFIGURACIÓN DE ERRORES Y DEBUGGING
# =================================================================
server.error.include-message=always
server.error.include-binding-errors=always
spring.mvc.log-request-details=true
